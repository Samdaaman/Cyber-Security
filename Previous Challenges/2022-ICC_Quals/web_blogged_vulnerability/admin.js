class AdminSocket {
    constructor(ws) {
        this.ws = ws;
    }

    /**
     * Render a preview version of content on the server before it's published with setPage.
     * @param {string} filename
     * @param {string} content
     */
    renderPreview(filename, content) {
        this.send("renderPreview", filename, content);
    }

    /**
     * Public a new page as filename.
     * @param {string} filename
     * @param {string} content
     */
    setPage(filename, content) {
        this.send("setPage", filename, content);
    }

    getPage(filename) {
        this.send("setPage", filename);
    }

    getPageSource(filename) {
        this.send("getPageSource", filename);
    }

    send(type, filename, content) {
        this.ws.send(JSON.stringify({ type, filename, content }));
    }
}